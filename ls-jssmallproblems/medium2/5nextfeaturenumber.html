<!doctype html>
<html lang="en-US">
  <head>
  <title>Next Featured Number Higher than a Given Value</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <script>
      // A featured number (something unique to this exercise) is an odd number 
      // that is a multiple of 7, and whose digits occur exactly once each. So, 
      // for example, 49 is a featured number, but 98 is not (it is not odd), 
      // 97 is not (it is not a multiple of 7), and 133 is not (the digit 3 appears twice).

      // Write a function that takes a single integer as an argument, and returns 
      // the next featured number that is greater than the argument. Issue an error 
      // message if there is no next featured number.
      
      function featured(num) {
        var MAX_FEATURED = 9876543210;
        var featuredNum = toOddMultiplyOf7(num);
        do {
          if (allUnique(featuredNum) && (featuredNum > num)) {
            return featuredNum;
          }
          
          featuredNum += 14;
        } while (featuredNum < MAX_FEATURED);
        
        return 'There is no featured number';
      }
      
      function toOddMultiplyOf7(num) {
        while ((num % 2 === 0) || (num % 7 !== 0)) {
          num += 1;
        }
        
        return num;
      }
      
      function allUnique(featuredNum) {
        var numString = featuredNum.toString().split("");
        var seen = {};
        
        for (var i = 0; i < numString.length; i++) {
          if (seen[numString[i]]) {
            return false;
          } else {
            seen[numString[i]] = true;
          }
        }
        
        return true;
      }
          
      console.log(featured(12));        // 21
      console.log(featured(20));        // 21
      console.log(featured(21));        // 35
      console.log(featured(997));       // 1029
      console.log(featured(1029));     // 1043
      console.log(featured(999999));    // 1023547
      console.log(featured(999999987)); // 1023456987
    </script>
  </body>
</html>