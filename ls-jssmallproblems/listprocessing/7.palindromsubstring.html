<!doctype html>
<html lang="en-US">
  <head>
  <title>Palindromic Substrings</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <script>
    // Write a function that returns a list of all substrings of a string that are palindromic. That is, each substring must consist of the same 
    // sequence of characters forwards as it does backwards. The return value should be arranged in the same sequence as the substrings 
    // appear in the string. Duplicate palindromes should be included multiple times.
    
    // You may (and should) use the substrings function you wrote in the previous exercise.
    
    // For the purposes of this exercise, you should consider all characters and pay attention to case; that is, "AbcbA" is a palindrome, but 
    // neither "Abcba" nor "Abc-bA" are. In addition, assume that single characters are not palindromes.
    
    function palindromes(string) {
      return substrings(string).filter(function(word) {
        return isPalindrome(word);
      });
    }
    
    function isPalindrome(word) {
      return word.length > 1 && word === word.split('').reverse().join('');
    }
    
    // function palindromes(string) {
    //   var palinString = [];
      
    //   for (var i = 0; i < substrings(string).length; i++) {
    //     var element = substrings(string)[i];
    //     if (element.length > 1 && element === element.split('').reverse().join('')) {
    //       palinString.push(element);
    //     }
    //   }
      
    //   return palinString;
    // }
    
    function substrings(text) {
      var result = [];
      
      for (var i = 0; i < text.length; i++) {
        var substr = text.slice(i);
        result.push(substringsAtStart(substr));
      }
      
      return result.reduce(function(a, b) {
        return a.concat(b);
      });
    }
    
    function substringsAtStart(string) {
      return string.split('').map(function(value, idx) {
        return string.slice(0, idx + 1);
      });
    }
    
    console.log(palindromes('abcd'));  // []
    console.log(palindromes('madam')); // ['madam', 'ada']
    console.log(palindromes('hello-madam-did-madam-goodbye'));
    // result
    // [ 'll', '-madam-', '-madam-did-madam-', 'madam', 'madam-did-madam', 'ada',
    //   'adam-did-mada', 'dam-did-mad', 'am-did-ma', 'm-did-m', '-did-', 'did',
    //   '-madam-', 'madam', 'ada', 'oo' ]
    
    console.log(palindromes('knitting cassettes'));
    // result
    // [ 'nittin', 'itti', 'tt', 'ss', 'settes', 'ette', 'tt' ]
  
    </script>
  </body>
</html>
    